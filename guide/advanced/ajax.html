<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ajax | JavaScript-outline</title>
    <meta name="description" content="JavaScript 知识概要">
    <link rel="icon" href="/JavaScript-outline/favicon.ico">
    
    <link rel="preload" href="/JavaScript-outline/assets/css/0.styles.3b78d28c.css" as="style"><link rel="preload" href="/JavaScript-outline/assets/js/app.90c80948.js" as="script"><link rel="preload" href="/JavaScript-outline/assets/js/13.04a46d6f.js" as="script"><link rel="prefetch" href="/JavaScript-outline/assets/js/10.642800d4.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/11.693b21f8.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/12.3a328184.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/14.3aa62229.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/15.a74f54f5.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/16.5d77e461.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/17.d88d6771.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/18.bb45643a.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/19.0424d057.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/2.37b6ca0e.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/20.513e2624.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/21.9d510487.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/22.272bfd58.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/23.299438a7.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/24.8f074f48.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/25.02e8529b.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/26.9c01c312.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/27.1dc657f7.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/28.946f61a3.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/29.75d903e8.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/3.3803724c.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/30.66824cac.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/31.6db38385.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/32.cfe18635.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/33.e4d0687c.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/34.075ff1ac.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/35.8dfadab1.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/36.a51fea16.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/37.557a8caf.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/38.f060c7f1.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/4.a2ebf6c7.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/5.309eeb0e.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/6.b4c44821.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/7.7f9964ec.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/8.d28ea238.js"><link rel="prefetch" href="/JavaScript-outline/assets/js/9.d13ec241.js">
    <link rel="stylesheet" href="/JavaScript-outline/assets/css/0.styles.3b78d28c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><!----> <header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/JavaScript-outline/" class="home-link router-link-active"><!----> <span class="site-name">JavaScript-outline</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/JavaScript-outline/guide/" class="nav-link router-link-active">JavaScript</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">拓展</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>技能</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaScript-outline/expand/skill/jquery.html" class="nav-link">jQuery</a></li><li class="dropdown-subitem"><a href="/JavaScript-outline/expand/skill/gulp.html" class="nav-link">gulp</a></li><li class="dropdown-subitem"><a href="/JavaScript-outline/expand/skill/php.html" class="nav-link">PHP</a></li><li class="dropdown-subitem"><a href="/JavaScript-outline/expand/skill/mysql.html" class="nav-link">MySql</a></li><li class="dropdown-subitem"><a href="/JavaScript-outline/expand/skill/git.html" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>脚本</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaScript-outline/expand/script/function.html" class="nav-link">函数封装</a></li><li class="dropdown-subitem"><a href="/JavaScript-outline/expand/script/plug-in.html" class="nav-link">插件封装</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">生态系统</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/Marco-hui/vue-admin-web" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-admin-web
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>帮助</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.cnblogs.com/Marco-hui/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  作者Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://github.com/Marco-hui/JavaScript-outline/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <a href="https://github.com/Marco-hui/JavaScript-outline" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/JavaScript-outline/guide/" class="nav-link router-link-active">JavaScript</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">拓展</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>技能</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaScript-outline/expand/skill/jquery.html" class="nav-link">jQuery</a></li><li class="dropdown-subitem"><a href="/JavaScript-outline/expand/skill/gulp.html" class="nav-link">gulp</a></li><li class="dropdown-subitem"><a href="/JavaScript-outline/expand/skill/php.html" class="nav-link">PHP</a></li><li class="dropdown-subitem"><a href="/JavaScript-outline/expand/skill/mysql.html" class="nav-link">MySql</a></li><li class="dropdown-subitem"><a href="/JavaScript-outline/expand/skill/git.html" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>脚本</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaScript-outline/expand/script/function.html" class="nav-link">函数封装</a></li><li class="dropdown-subitem"><a href="/JavaScript-outline/expand/script/plug-in.html" class="nav-link">插件封装</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">生态系统</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/Marco-hui/vue-admin-web" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-admin-web
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>帮助</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.cnblogs.com/Marco-hui/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  作者Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://github.com/Marco-hui/JavaScript-outline/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <a href="https://github.com/Marco-hui/JavaScript-outline" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav> <div class="load-success"><div id="codefund"></div></div> <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>基础</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>进阶</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/JavaScript-outline/guide/advanced/es5.html" class="sidebar-link">ES5</a></li><li><a href="/JavaScript-outline/guide/advanced/es6.html" class="sidebar-link">ES6</a></li><li><a href="/JavaScript-outline/guide/advanced/animation.html" class="sidebar-link">动画</a></li><li><a href="/JavaScript-outline/guide/advanced/oop.html" class="sidebar-link">面向对象</a></li><li><a href="/JavaScript-outline/guide/advanced/ajax.html" class="active sidebar-link">Ajax</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#了解ajax" class="sidebar-link">了解AJAX</a></li><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#ajax请求步骤" class="sidebar-link">AJAX请求步骤</a></li><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#xmlhttprequest对象属性方法" class="sidebar-link">XMLHttpRequest对象属性方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#xmlhttprequest的兼容性" class="sidebar-link">XMLHttpRequest的兼容性</a></li></ul></li><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#json数据的应用" class="sidebar-link">JSON数据的应用</a></li><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#ajax跨域解决方案" class="sidebar-link">ajax跨域解决方案</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#jsonp" class="sidebar-link">JSONP</a></li><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#jsonp请求原理" class="sidebar-link">jsonp请求原理</a></li><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#cors" class="sidebar-link">CORS</a></li><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#服务器代理" class="sidebar-link">服务器代理</a></li></ul></li><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#promise" class="sidebar-link">Promise</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#promise-的三种状态" class="sidebar-link">Promise 的三种状态</a></li><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#方法" class="sidebar-link">方法</a></li><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#使用" class="sidebar-link">使用</a></li><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#应用" class="sidebar-link">应用</a></li></ul></li><li class="sidebar-sub-header"><a href="/JavaScript-outline/guide/advanced/ajax.html#api" class="sidebar-link">API</a></li></ul></li><li><a href="/JavaScript-outline/guide/advanced/prototype-chain.html" class="sidebar-link">原型链</a></li><li><a href="/JavaScript-outline/guide/advanced/inherit.html" class="sidebar-link">继承</a></li><li><a href="/JavaScript-outline/guide/advanced/closure.html" class="sidebar-link">闭包</a></li><li><a href="/JavaScript-outline/guide/advanced/sass.html" class="sidebar-link">Sass</a></li><li><a href="/JavaScript-outline/guide/advanced/module.html" class="sidebar-link">模块化开发</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="ajax"><a href="#ajax" class="header-anchor">#</a> Ajax</h1> <h2 id="了解ajax"><a href="#了解ajax" class="header-anchor">#</a> 了解AJAX</h2> <ul><li>AJAX: Asynchronous Javascript And Xml，Ajax 技术的核心是XMLHttpRequest对象（简称XHR），这是由微软首先引入的一个特性，其他浏览器提供商后来都提供了相同的实现</li> <li>Ajax起源：最早出现在2005年的google搜索建议</li> <li>ajax优点
<ul><li>增加速度：减轻服务器的负担,按需加载数据,最大程度的减少冗余请求</li> <li>改善的用户体验：局部刷新页面,减少用户等待时间,带来更好的用户体验</li> <li>页面和数据分离：前后端分离，操作更灵活，后期维护更方便</li></ul></li> <li>后端语言和服务器配置
<ul><li>php + Apache + mySQL</li> <li>NodeJS + MongoDB</li> <li>Java + tomcat + Oracle</li> <li>.NET + IIS + SQL Server</li></ul></li></ul> <h2 id="ajax请求步骤"><a href="#ajax请求步骤" class="header-anchor">#</a> AJAX请求步骤</h2> <ol><li>创建请求对象,返回一个异步请求对象</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>处理服务器返回数据</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>设置请求参数，建立与服务器连接</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://localhost/api/ajaxtest&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>向服务器发送请求</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="xmlhttprequest对象属性方法"><a href="#xmlhttprequest对象属性方法" class="header-anchor">#</a> XMLHttpRequest对象属性方法</h2> <ul><li>open(type,url,async): 建立与服务器的连接
<ul><li>type：请求的类型 （’get’, ‘post’…）</li> <li>url：数据请求的地址（API地址），一般由后端开发人员提供
<ul><li>当前页面访问地址，API地址两者一定要同域</li> <li>同域：协议，域名，端口三者一致（同源策略）</li></ul></li> <li>async：是否异步发送请求（true,false），默认为true
<ul><li>同步：按步骤顺序执行，前面的代码执行完后，后面的代码才会执行</li></ul> <blockquote><p>做完前一件事情, 才能下一件事情（排队）</p></blockquote> <ul><li>异步：与其他操作同时执行，也叫并发（图片加载，ajax请求）</li></ul></li></ul></li> <li>send(data): 向服务器发送请求
<ul><li>data：可选参数，post请求时才生效，表示发请求时传送的数据字符串。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'size=20&amp;type=music'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>在某些浏览器中，如果不需要通过请求主体发送数据，则必须传入null</p></blockquote> <ul><li>get请求的数据写在api地址后</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>request<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://localhost/api/getdata.php?type=get&amp;qty=10&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>setRequestHeader(key,val)：设置请求头
<ul><li>设置请求头必须在open方法调用后设置</li></ul> <blockquote><p>利用请求头设置POST提交数据格式： <br>
xhr.setRequestHeader(‘content-type’,”application/x-www-form-urlencoded”);</p></blockquote></li></ul> <blockquote><p>*在请求收到服务器的响应后，响应的数据会自动填充xhr 对象的属性，相关的属性简介如下：</p></blockquote> <ul><li>readyState
<ul><li>0 － （未初始化）尚未调用open()方法。</li> <li>1 － （启动）已经调用open()方法，但尚未调用send()方法。</li> <li>2 － （发送）send()方法执行完成，但尚未接收到响应。</li> <li>3 － （接收）已经接收到部分响应数据。</li> <li>4 － （完成）响应内容解析完成，可以在客户端调用了</li></ul></li></ul> <blockquote><p>只要readyState 属性的值由一个值变成另一个值，都会触发一次readystatechange 事件。必须在调用open()之前指定onreadystatechange事件处理程序才能确保跨浏览器兼容性。</p></blockquote> <ul><li>responseText：保存服务器返回的数据（从服务器返回的数据是“字符串”）。</li> <li>status：响应的HTTP 状态。
<ul><li>200（OK）：服务器成功返回了页面</li> <li>304（Not Modified）：数据与服务器相同，不需要重服务器请求（直接使用缓存的数据）</li> <li>400（Bad Request）：语法错误导致服务器不识别</li> <li>401（Unauthorized）：请求需要用户认证</li> <li>404（Not found）：请求地址不存在</li> <li>500（Internal Server Error）：服务器出错或无响应</li> <li>503（ServiceUnavailable）：由于服务器过载或维护导致无法完成请求</li></ul></li> <li>statusText: HTTP状态码的说明</li></ul> <h3 id="xmlhttprequest的兼容性"><a href="#xmlhttprequest的兼容性" class="header-anchor">#</a> XMLHttpRequest的兼容性</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> req <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span><span class="token punctuation">{</span>
  req <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// ie低版本浏览有多种异步请求的实现</span>
  <span class="token keyword">try</span><span class="token punctuation">{</span>
    req <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&quot;Msxml2.XMLHTTP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
      req <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&quot;Microsoft.XMLHTTP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'你的浏览器太low了，这个世界不适合你'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="json数据的应用"><a href="#json数据的应用" class="header-anchor">#</a> JSON数据的应用</h2> <ul><li>xml数据<div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>person</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>4564523626256562<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>张三<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>person</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li>json数据(json字符串)<div class="language- extra-class"><pre class="language-text"><code>{&quot;id&quot; : 21465461461461, &quot;name&quot;: &quot;张三&quot;},[{&quot;id&quot; : 21465461461461, &quot;name&quot;: &quot;张三&quot;}]
</code></pre></div><ul><li>json数据格式要求</li> <li>json字符串的转换
<ul><li>eval方法转换 <br> <code>eval(&quot;(&quot;+json字符串+&quot;)&quot;);</code> <br>
它的作用是，将一个普通的json格式的字符串，转换成Json格式的对象 <br>
举例：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> list <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span><span class="token operator">+</span>request<span class="token punctuation">.</span>responseText<span class="token operator">+</span><span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>JSON对象(ES5)
<ul><li>JSON.parse(); //把JSON字符串转成JSON对象(js对象/数组)</li> <li>JSON.stringify(); //把JSON对象转成JSON字符串</li></ul></li></ul></li></ul></li> <li>加载json文件 <br>
前后端分离开发时模拟数据</li></ul> <h2 id="ajax跨域解决方案"><a href="#ajax跨域解决方案" class="header-anchor">#</a> ajax跨域解决方案</h2> <h3 id="jsonp"><a href="#jsonp" class="header-anchor">#</a> JSONP</h3> <p>JSONP 是JSON with padding（填充式JSON 或参数式JSON）的简写。<br>
JSONP是一种可以绕过浏览器的安全限制，从不同的域请求数据的方法。使用JSONP需要服务器端提供必要的支持。</p> <div class="language- extra-class"><pre class="language-text"><code>callback({ &quot;name&quot;: &quot;Nicholas&quot; });//此代码在服务器生成
</code></pre></div><blockquote><p>JSONP 由两部分组成：回调函数和数据。回调函数是当响应到来时应该在页面中调用的函数</p></blockquote> <h3 id="jsonp请求原理"><a href="#jsonp请求原理" class="header-anchor">#</a> jsonp请求原理</h3> <ul><li>JSONP的原理是通过script标签发起一个GET请求来取代XHR请求。
<ul><li>JSONP生成一个script标签并插到DOM中，</li> <li>然后浏览器会接管并向src属性所指向的地址发送请求。</li> <li>从服务器端返回一段js代码，这段代码就是一个函数的执行（执行时把数据作为参数传入，函数为本地预定义的函数）,这个我们就间接地得到了服务器传出的数据。</li></ul></li> <li>步骤如下：
<ol><li>预定义全局函数getData</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>PS:预定义函数必须为全局函数</p></blockquote> <ol start="2"><li>生成script标签，请求服务器地址,并附带函数名</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;http://localhost:3000/getJSONP?callback=getData&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><ol start="3"><li>服务器返回js文件（js文件里面包含我们预先定义的函数执行）<br>
请求成功后，得到的js代码为</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'王大锤'</span><span class="token punctuation">,</span>age<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>sex<span class="token operator">:</span> <span class="token string">'男'</span><span class="token punctuation">,</span>married<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>当这个函数成功调用时，就可以执行预定义函数里的代码（处理返回的数据）</li></ul> <blockquote><p>jsonp请求不是ajax请求，是利用script标签能加载其他域名的js文件的原理，来实现跨域数据的请求</p></blockquote> <ul><li>缺点 <br>
这种方法只支持GET方式，不如POST方式安全</li></ul> <h3 id="cors"><a href="#cors" class="header-anchor">#</a> CORS</h3> <p>CORS是一个W3C标准，全称是”跨域资源共享”（Cross-origin resource sharing），它允许浏览器向跨源服务器发出XMLHttpRequest请求，从而克服了AJAX只能同源使用的限制</p> <blockquote><p>CORS需要浏览器和服务器同时支持。目前，所有浏览器都支持该功能，IE浏览器不能低于IE10。</p></blockquote> <ul><li>Access-Control-Allow-Origin <br>
该字段是必须的。需要在后端响应头添加词字段，值要么是一个*，表示接受任意域名的请求，要么指定一个域名<code>http://localhost</code>,如想指定若干个请使用判断语句，php代码如下<div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$allow_origin</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>  
  <span class="token single-quoted-string string">'http://www.client.com'</span><span class="token punctuation">,</span>  
  <span class="token single-quoted-string string">'http://www.client2.com'</span>  
<span class="token punctuation">)</span><span class="token punctuation">;</span>  

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$origin</span><span class="token punctuation">,</span> <span class="token variable">$allow_origin</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
  <span class="token function">header</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Access-Control-Allow-Origin:'</span><span class="token punctuation">.</span><span class="token variable">$origin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre></div></li> <li>Access-Control-Allow-Methods</li> <li>Access-Control-Allow-Headers<div class="language-php extra-class"><pre class="language-php"><code><span class="token function">header</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Access-Control-Allow-Methods:POST'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token function">header</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Access-Control-Allow-Headers:x-requested-with,content-type'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div></li></ul> <h3 id="服务器代理"><a href="#服务器代理" class="header-anchor">#</a> 服务器代理</h3> <p>后端不存在跨域问题，所以可以利用后端间接获取其他网站的数据</p> <h2 id="promise"><a href="#promise" class="header-anchor">#</a> Promise</h2> <p>Promise是一个构造函数，所谓的Promise对象，就是通过new Promise()实例化得到的对象，用来传递异步操作的消息。它代表了某个未来才会知道结果的事件（通常是一个异步操作），并且这个事件提供统一的 API，可供进一步处理。</p> <h3 id="promise-的三种状态"><a href="#promise-的三种状态" class="header-anchor">#</a> Promise 的三种状态</h3> <ul><li>Pending（未完成）可以理解为Promise对象实例创建时候的初始状态</li> <li>Resolved（成功） 可以理解为成功的状态</li> <li>Rejected（失败） 可以理解为失败的状态</li></ul> <h3 id="方法"><a href="#方法" class="header-anchor">#</a> 方法</h3> <h4 id="静态方法"><a href="#静态方法" class="header-anchor">#</a> 静态方法</h4> <ul><li>Promise.resolve() <br>
将现有对象转为Promise对象，并将该对象的状态改成resolved<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 等价于</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Promise.reject() <br>
返回一个新的 Promise 实例，该实例的状态为rejected</li> <li>Promise.all([p1,p2,p3...]) <br>
将多个Promise实例，包装成一个新的Promise实例
<ul><li>所有参数中的promise状态都为resolved时，新的promise状态才为resolved</li> <li>只要p1、p2、p3..之中有一个被rejected，新的promise的状态就变成rejected</li></ul></li> <li>Promise.race([p1,p2,p3...]) // 竞速，完成一个即可</li></ul> <h4 id="原型方法"><a href="#原型方法" class="header-anchor">#</a> 原型方法</h4> <ul><li>Promise.prototype.then(successFn[,failFn])
Promise实例生成以后，可以用then方法分别指定Resolved状态和Rejected状态的回调函数。并根据Promise对象的状态来确定执行的操作:
<ul><li>resolved时执行第一个函数successFn</li> <li>rejected时执行第二个函数failFn。</li></ul></li> <li>Promise.prototype.catch(failFn)</li></ul> <h3 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//ajax请求</span>
  <span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    url<span class="token operator">:</span><span class="token string">'xxx.php'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">fail</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'请求失败'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//指定Resolved状态和Rejected状态的回调函数</span>
<span class="token comment">//一般用于处理数据</span>
p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//这里得到resolve传过来的数据</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//这里得到reject传过来的数据</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Promise的构造函数接收一个回调函数作为参数，并且传入两个参数：resolve，reject，分别表示异步操作执行成功和失败后的回调函数</p> <ul><li>调用resolve方法将Promise对象的状态从「未完成」变为「成功」（从 pending 变为 resolved）；</li> <li>调用reject方法将Promise对象的状态从「未完成」变为「失败」（从 pending 变为 rejected）</li> <li>如果调用resolve函数和reject函数时带有参数，那么它们的参数会被传递给回调函数</li></ul> <blockquote><p>有了Promise对象，就可以将异步操作以同步操作的流程表达出来，避免了层层嵌套的回调函数</p></blockquote> <h3 id="应用"><a href="#应用" class="header-anchor">#</a> 应用</h3> <ul><li>加载图片，获取图片信息（宽高）<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">preloadImage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    image<span class="token punctuation">.</span><span class="token function-variable function">onload</span>  <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    image<span class="token punctuation">.</span>onerror <span class="token operator">=</span> reject<span class="token punctuation">;</span>
    image<span class="token punctuation">.</span>src <span class="token operator">=</span> path<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//使用</span>
<span class="token function">preloadImage</span><span class="token punctuation">(</span><span class="token string">'http://image.baidu.com/xxx.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">img</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">,</span>img<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li>多个ajax请求数据依赖</li></ul> <h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <ul><li>服务器API
<ul><li>向服务器请求数据： <br>
接口地址：api/ajaxtest.php <br>
接口描述：返回一段字符串，无特殊功能 <br></li> <li>判断用户名是否已被注册 <br>
接口地址：api/checkname?regname=Marco <br>
接口描述：该地址验证所提交的用户名是否存在，如果已存在，返回字符串no，不存在返回yes <br>
参数说明：regname:注册用户名，必填 <br> <blockquote><p>已经存在的名字：’张三’,’李四’,’王尼玛’,’奥巴马’</p></blockquote></li> <li>微博消息获取： <br>
接口地址：api/weibo.php <br>
接口描述：返回包含多条微博记录的json数据 <br></li> <li>分页获取数据： <br>
接口地址：api/football.php <br>
接口描述：该地址请求多条微博信息，分页获取，pageNo指定获取第几页的数据 <br>
参数说明：
<ul><li>pageNo:当前分页，默认1</li> <li>qty:每页显示数量，默认10</li></ul></li> <li>聊天室： <br>
获取本机ip地址：api/getip.php <br>
获取信息：api/chat.php?type=query <br>
发送信息：api/chat.php?type=send&amp;sender=xiejinrong&amp;msg=hello <br></li> <li>利用jsonp获取远程数据 <br>
接口地址：api/jsonp.php <br>
接口描述：jsonp跨域解决方案 <br></li> <li>获取CORS获取远程数据 <br>
接口地址：api/cors.php <br>
接口描述：CORS跨域解决方案 <br></li></ul></li> <li>利用jsonp实现百度搜索关键字建议 <br> <code>https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?json=1&amp;cb=getData&amp;wd=html5</code></li> <li>利用CORS加载天气 <br>
接口地址：http://wthrcdn.etouch.cn/weather_mini?city=北京 <br>
接口描述：通过城市名字获得天气数据，json数据</li> <li>利用服务器代理获取外网IP <br>
api地址：api/ip.php</li> <li>根据IP获取所在城市 <br> <code>http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=json&amp;ip=27.46.236.176</code></li></ul> <hr> <p><strong>[练习]</strong></p> <ul><li><p>滚动页面加载更多</p></li> <li><p>封装ajax函数，要求如下：</p> <ul><li>简化ajax请求操作</li> <li>解决兼容性问题</li> <li>支持跨域JSONP请求</li></ul></li> <li><p>ajax请求json数据实现城市列表的展示</p> <ul><li>显示热门城市</li> <li>支持字母索引</li> <li>点击城市显示相应天气信息
<img src="https://img-blog.csdnimg.cn/20200313231001410.png" alt="天气预报"></li></ul></li> <li><p>全国地市三级联动效果</p> <p><img src="https://img-blog.csdnimg.cn/20200313231114503.png" alt="全国地市三级联动"></p></li></ul> <hr></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Marco-hui/JavaScript-outline/edit/master/guide/advanced/ajax.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2020-3-16 08:17:11</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/JavaScript-outline/guide/advanced/oop.html" class="prev">
          面向对象
        </a></span> <span class="next"><a href="/JavaScript-outline/guide/advanced/prototype-chain.html">
          原型链
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/JavaScript-outline/assets/js/app.90c80948.js" defer></script><script src="/JavaScript-outline/assets/js/13.04a46d6f.js" defer></script>
  </body>
</html>
