(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{234:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[t._v("#")]),t._v(" MySql")]),t._v(" "),a("h2",{attrs:{id:"什么是数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是数据库"}},[t._v("#")]),t._v(" 什么是数据库")]),t._v(" "),a("p",[t._v("数据库（Database）是按照数据结构来组织、存储和管理数据的仓库")]),t._v(" "),a("p",[a("strong",[t._v("热门数据库")])]),t._v(" "),a("ul",[a("li",[t._v("Oracle")]),t._v(" "),a("li",[t._v("SQLServer")]),t._v(" "),a("li",[t._v("MySQL")]),t._v(" "),a("li",[t._v("MongoDB")]),t._v(" "),a("li",[t._v("SQLite")]),t._v(" "),a("li",[t._v("access")]),t._v(" "),a("li",[t._v("DB2")])]),t._v(" "),a("h3",{attrs:{id:"结构化的数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#结构化的数据"}},[t._v("#")]),t._v(" 结构化的数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("小明的自我介绍：\n我是一个热爱生活的人，很乐观，我今年刚从清华大学毕业，我学的专业是前端开发，我目前还是单身，并没有女朋友，欢迎大家跟我交朋友，谢谢！\n")])])]),a("p",[t._v("仔细阅读上面这段话，如果让你提取这段文字的中心意思，你能做到吗？")]),t._v(" "),a("p",[t._v("我相信对一个正常人来说都不是难事。可是，这段话如果交给计算机去处理呢？ 计算机没有人类的思维，这件事对它来讲恐怕就太难了，因此，有时候我们才需要将数据结构化。")]),t._v(" "),a("p",[t._v("结构化的数据是什么样子呢？以上面那段话为例，我们将它的信息提取出来，以表格的形式展现：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("姓名")]),t._v(" "),a("th",[t._v("年龄")]),t._v(" "),a("th",[t._v("性别")]),t._v(" "),a("th",[t._v("性格")]),t._v(" "),a("th",[t._v("所在地")]),t._v(" "),a("th",[t._v("毕业院校")]),t._v(" "),a("th",[t._v("专业")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Lucy")]),t._v(" "),a("td",[t._v("20")]),t._v(" "),a("td",[t._v("女")]),t._v(" "),a("td",[t._v("乐观")]),t._v(" "),a("td",[t._v("广州")]),t._v(" "),a("td",[t._v("清华大学")]),t._v(" "),a("td",[t._v("前端开发")])]),t._v(" "),a("tr",[a("td",[t._v("Marco")]),t._v(" "),a("td",[t._v("18")]),t._v(" "),a("td",[t._v("男")]),t._v(" "),a("td",[t._v("完美")]),t._v(" "),a("td",[t._v("广州")]),t._v(" "),a("td",[t._v("蓝翔职业技术学校")]),t._v(" "),a("td",[t._v("挖掘机")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("这样一来，我们把一段复杂的信息，进行了结构化处理，瞬间显得清爽多了。计算机处理起来也相当方便。 因此，这样的数据，我们就称之为结构化数据。")])]),t._v(" "),a("h2",{attrs:{id:"关系型数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关系型数据库"}},[t._v("#")]),t._v(" 关系型数据库")]),t._v(" "),a("p",[t._v("是建立在关系模型基础上的数据库，借助于集合代数等数学概念和方法来处理数据库中的数据")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("姓名")]),t._v(" "),a("th",[t._v("身份证")]),t._v(" "),a("th",[t._v("银行卡号")]),t._v(" "),a("th",[t._v("余额")]),t._v(" "),a("th",[t._v("消费记录")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Marco")]),t._v(" "),a("td",[t._v("450721200205012611")]),t._v(" "),a("td",[t._v("888869689898")]),t._v(" "),a("td",[t._v("865424.00")]),t._v(" "),a("td",[t._v("2016.11.1 6000买iphone7 "),a("br"),t._v(" 2016.12.20 5800买note7 "),a("br"),t._v(" 2017.1.1 1665800买飞机")])])])]),t._v(" "),a("p",[t._v("这样的数据看起来是不是很别扭呢？ 因为它查询起来极不方便。")]),t._v(" "),a("p",[t._v("因此我们把它改造一下（把用户和消费记录分开）：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("编号")]),t._v(" "),a("th",[t._v("姓名")]),t._v(" "),a("th",[t._v("身份证")]),t._v(" "),a("th",[t._v("银行卡号")]),t._v(" "),a("th",[t._v("余额")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("1")]),t._v(" "),a("td",[t._v("Marco")]),t._v(" "),a("td",[t._v("450721199805012611")]),t._v(" "),a("td",[t._v("888869689898")]),t._v(" "),a("td",[t._v("865424.00")])]),t._v(" "),a("tr",[a("td",[t._v("2")]),t._v(" "),a("td",[t._v("Lucy")]),t._v(" "),a("td",[t._v("460751198007125628")]),t._v(" "),a("td",[t._v("888869689898")]),t._v(" "),a("td",[t._v("26424.00")])])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("编号")]),t._v(" "),a("th",[t._v("时间")]),t._v(" "),a("th",[t._v("消费金额")]),t._v(" "),a("th",[t._v("备注")]),t._v(" "),a("th",[t._v("用户编号")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("1")]),t._v(" "),a("td",[t._v("2016.11.1")]),t._v(" "),a("td",[t._v("6000")]),t._v(" "),a("td",[t._v("买iphone7")]),t._v(" "),a("td",[t._v("1")])]),t._v(" "),a("tr",[a("td",[t._v("2")]),t._v(" "),a("td",[t._v("2016.12.20")]),t._v(" "),a("td",[t._v("5800")]),t._v(" "),a("td",[t._v("买note7")]),t._v(" "),a("td",[t._v("1")])]),t._v(" "),a("tr",[a("td",[t._v("3")]),t._v(" "),a("td",[t._v("2017.1.1")]),t._v(" "),a("td",[t._v("1665800")]),t._v(" "),a("td",[t._v("买飞机")]),t._v(" "),a("td",[t._v("2")])])])]),t._v(" "),a("p",[t._v("我们把用户账号的信息，和消费记录信息分离开来，通过用户编号进行了关联 既把不同的数据进行了分离，使得查询数据更加方便。同时又保证了它们关系的正确性。")]),t._v(" "),a("p",[t._v("这就是传统的关系型数据库。 其中 <用户编号> 我们称之为"),a("strong",[t._v("外键")])]),t._v(" "),a("h3",{attrs:{id:"表-table"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#表-table"}},[t._v("#")]),t._v(" 表(table)")]),t._v(" "),a("p",[t._v("一个数据库通常包含一个或多个表，一个数据表有一个唯一名称，并由行和列组成。")]),t._v(" "),a("p",[t._v("表(table) 是数据库中一个重要的组成部分, 数据库只是一个框架，数据表才是其实质内容。")]),t._v(" "),a("ul",[a("li",[t._v("表结构\n"),a("table",[a("thead",[a("tr",[a("th",[t._v("身份ID")]),t._v(" "),a("th",[t._v("姓名")]),t._v(" "),a("th",[t._v("性别")]),t._v(" "),a("th",[t._v("年龄")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("1")]),t._v(" "),a("td",[t._v("刘备")]),t._v(" "),a("td",[t._v("男")]),t._v(" "),a("td",[t._v("40")])]),t._v(" "),a("tr",[a("td",[t._v("2")]),t._v(" "),a("td",[t._v("关羽")]),t._v(" "),a("td",[t._v("男")]),t._v(" "),a("td",[t._v("36")])]),t._v(" "),a("tr",[a("td",[t._v("3")]),t._v(" "),a("td",[t._v("貂蝉")]),t._v(" "),a("td",[t._v("女")]),t._v(" "),a("td",[t._v("18")])]),t._v(" "),a("tr",[a("td",[t._v("4")]),t._v(" "),a("td",[t._v("张飞")]),t._v(" "),a("td",[t._v("男")]),t._v(" "),a("td",[t._v("30")])])])])])]),t._v(" "),a("h2",{attrs:{id:"mysql的特点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql的特点"}},[t._v("#")]),t._v(" MySql的特点")]),t._v(" "),a("p",[t._v("MySql是目前最流行的关系型数据库管理系统，由瑞典MySQL AB公司开发，目前属于Oracle公司")]),t._v(" "),a("ul",[a("li",[t._v("MySQL是开源的，免费。")]),t._v(" "),a("li",[t._v("MySQL支持标准的SQL数据语句")]),t._v(" "),a("li",[t._v("MySQL可以允许于多个系统上，并且支持多种语言。这些编程语言包括C、C++、Python、Java、Perl、PHP、Eiffel、Ruby和Tcl等。")]),t._v(" "),a("li",[t._v("MySQL对PHP有很好的支持，PHP是目前最流行的Web开发语言。")]),t._v(" "),a("li",[t._v("MySQL支持大型数据库，支持5000万条记录的数据仓库，32位系统表文件最大可支持4GB，64位系统支持最大的表文件为8TB。")])]),t._v(" "),a("h2",{attrs:{id:"数据库操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库操作"}},[t._v("#")]),t._v(" 数据库操作")]),t._v(" "),a("h3",{attrs:{id:"表操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#表操作"}},[t._v("#")]),t._v(" 表操作")]),t._v(" "),a("ul",[a("li",[t._v("连接数据库 "),a("br"),t._v("\n格式："),a("code",[t._v("mysql -h主机地址 -u用户名 -p用户密码")])]),t._v(" "),a("li",[t._v("显示所有数据库 "),a("br"),t._v("\n格式："),a("code",[t._v("show databases;")])]),t._v(" "),a("li",[t._v("创建数据库 "),a("br"),t._v("\n格式："),a("code",[t._v("create database <数据库名>;")])]),t._v(" "),a("li",[t._v("使用数据库 "),a("br"),t._v("\n格式："),a("code",[t._v("use <数据库名>;")])]),t._v(" "),a("li",[t._v("显示当前数据库所有表 "),a("br"),t._v("\n格式："),a("code",[t._v("show tables;")])]),t._v(" "),a("li",[t._v("创建数据表 "),a("br"),t._v("\n格式："),a("code",[t._v("create table <表名> (<字段名1> <类型1> [,..<字段名n> <类型n>]);")]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("create table MyGuests (\n  id int(6) unsigned auto_increment primary key, \n  firstname varchar(30) not null,\n  lastname varchar(30) not null,\n  email varchar(50),\n  reg_date timestamp\n)\n")])])]),t._v("以上创建一个名为 “MyGuests” 的表，包含5个列： “id”, “firstname”, “lastname”, “email” 和 “reg_date”，参数如下：\n"),a("ul",[a("li",[t._v("数据类型:\n"),a("ul",[a("li",[t._v("INT(整型),")]),t._v(" "),a("li",[t._v("FLOAT(浮点),")]),t._v(" "),a("li",[t._v("CHAR(固定长度字符串),")]),t._v(" "),a("li",[t._v("VARCHAR(可变长度字符串),")]),t._v(" "),a("li",[t._v("BLOB(二进制),")]),t._v(" "),a("li",[t._v("TEXT(字符串)")]),t._v(" "),a("li",[t._v("TIMESTAMP(时间戳)")])])]),t._v(" "),a("li",[t._v("列的其他属性\n"),a("ul",[a("li",[t._v("NOT NULL - 每一行都必须含有值（不能为空），null 值是不允许的。")]),t._v(" "),a("li",[t._v("DEFAULT value - 设置默认值")]),t._v(" "),a("li",[t._v("UNSIGNED - 使用无符号数值类型，0 及正数")]),t._v(" "),a("li",[t._v("AUTO_INCREMENT - 设置 MySQL 字段的值在新增记录时每次自动增长 1")]),t._v(" "),a("li",[t._v("PRIMARY KEY - 设置数据表中每条记录的唯一标识。 通常列的 PRIMARY KEY 设置为 ID 数值，与 AUTO_INCREMENT 一起使用。")])])])])]),t._v(" "),a("li",[t._v("删除表： "),a("br"),t._v("\n格式："),a("code",[t._v("drop table <表名>;")]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("drop table MyGuests;\ndrop table if exists MyGuests\n")])])])]),t._v(" "),a("li",[t._v("查询表结构： "),a("br"),t._v(" "),a("code",[t._v("desc MyGuests")])]),t._v(" "),a("li",[t._v("修改表名。 "),a("br"),t._v(" "),a("code",[t._v("rename table MyClass to YouClass;")])]),t._v(" "),a("li",[t._v("增加字段 "),a("br"),t._v(" "),a("code",[t._v("alter table MyGuests add sku_id bigint(20) unsigned DEFAULT NULL COMMENT '商品销售码';")])]),t._v(" "),a("li",[t._v("复制表结构： "),a("br"),t._v(" "),a("code",[t._v("create table table1 like table;")])])]),t._v(" "),a("h3",{attrs:{id:"数据操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据操作"}},[t._v("#")]),t._v(" 数据操作")]),t._v(" "),a("ul",[a("li",[t._v("插入数据 "),a("br"),t._v("\n格式："),a("code",[t._v("insert into <表名> [(<字段名1>[,..<字段名n > ])] values ( 值1 )[, (值n )];")]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("//单条数据\ninsert into MyGuests (firstname, lastname, email)\nvalues ('John', 'Doe', 'john@example.com')\n")])])])]),t._v(" "),a("li",[t._v("删除表数据 "),a("br"),t._v("\n格式："),a("code",[t._v("delete from 表名 where 表达式")]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("//删除MyGuests表中id为1的数据\nDELETE FROM MyGuests where id=1;\n\n//删除所有数据\nDELETE FROM MyGuests\n")])])])]),t._v(" "),a("li",[t._v("查询表中的数据 "),a("br"),t._v("\n格式： "),a("code",[t._v("select <字段1, 字段2, …> from < 表名 > where < 表达式 >;")]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("//查看表 MyGuests 中所有数据\nselect * from MyGuests;\n\n//查看表 MyGuests 中前10行数据：\nselect * from MyGuests order by id limit 0,10;\n")])])]),a("blockquote",[a("p",[t._v("select一般配合where使用，以查询更精确更复杂的数据。")])])]),t._v(" "),a("li",[t._v("修改表中的数据。 "),a("br"),t._v("\n格式："),a("code",[t._v("update 表名 set 字段=新值,… where 条件;")]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("update MyGuests set name='Mary' where id=1;\n")])])])]),t._v(" "),a("li",[t._v("条件控制语句 "),a("br"),t._v(" "),a("ul",[a("li",[t._v("WHERE 语句："),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("SELECT * FROM tb_name WHERE id=3;\n")])])])]),t._v(" "),a("li",[t._v("HAVING 语句："),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("SELECT * FROM tb_name GROUP BY score HAVING count(*)>2\n")])])])]),t._v(" "),a("li",[t._v("相关条件控制符：\n"),a("ul",[a("li",[t._v("=、>、<、<>、IN(1,2,3......)、BETWEEN a AND b、NOT")]),t._v(" "),a("li",[t._v("AND 、OR")]),t._v(" "),a("li",[t._v("LIKE用法中\n"),a("ul",[a("li",[t._v("% 匹配任意、")]),t._v(" "),a("li",[t._v("_ 匹配一个字符（可以是汉字）")])])])])]),t._v(" "),a("li",[t._v("IS NULL 空值检测")])])])]),t._v(" "),a("h2",{attrs:{id:"php操作数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#php操作数据库"}},[t._v("#")]),t._v(" php操作数据库")]),t._v(" "),a("h3",{attrs:{id:"连接-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#连接-mysql"}},[t._v("#")]),t._v(" 连接 MySQL")]),t._v(" "),a("p",[t._v("PHP 5 及以上版本建议使用以下方式连接 MySQL :")]),t._v(" "),a("ul",[a("li",[t._v("MySQLi extension (“i” 意为 improved) "),a("br"),t._v("\n安装：Linux 和 Windows: 在 php5 mysql 包安装时 MySQLi 扩展多数情况下是自动安装"),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$servername")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"localhost"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$username")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$password")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"password"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$dbname")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建连接")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("mysqli")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$servername")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$dbname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 检测连接")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conn")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("connect_error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("die")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"连接失败: "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conn")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("connect_error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//查询前设置编码，防止输出乱码")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conn")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set_charset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'utf8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"连接成功"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])])]),t._v(" "),a("li",[t._v("执行sql语句查询结果集"),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//编写sql语句")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sql")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'select * from student'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取查询结果集")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$result")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conn")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sql")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//使用查询结果集")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//得到json字符串")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$row")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$result")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch_all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MYSQLI_ASSOC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//释放查询结果集，避免资源浪费")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$result")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//把结果输出到前台")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("json_encode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$row")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 关闭数据库，避免资源浪费")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conn")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"插入数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插入数据"}},[t._v("#")]),t._v(" 插入数据")]),t._v(" "),a("p",[t._v("INSERT INTO "),a("br")]),t._v(" "),a("ul",[a("li",[t._v("单条数据"),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sql")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v("\"INSERT INTO MyGuests (firstname, lastname, email)\nVALUES ('John', 'Doe', 'john@example.com')\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conn")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sql")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean constant"}},[t._v("TRUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"新记录插入成功"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"Error: "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sql")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"<br>"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conn")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[t._v("多条数据"),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sql")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"INSERT INTO `projects` (`name`, `url`, `description`) VALUES "')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$projects")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$item")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sql")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v("\"('"),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$item")])]),t._v("',NULL, NULL),\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sql")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("substr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sql")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conn")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sql")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean constant"}},[t._v("TRUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"新记录插入成功"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"Error: "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sql")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"<br>"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conn")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"读取数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#读取数据"}},[t._v("#")]),t._v(" 读取数据")]),t._v(" "),a("p",[t._v("SELECT…FROM")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sql")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"SELECT id, firstname, lastname FROM MyGuests"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$result")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$conn")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$sql")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$result")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("num_rows")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 输出每行数据")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$row")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$result")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch_assoc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"<br> id: "')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$row")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('" - Name: "')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$row")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"firstname"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('" "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$row")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"lastname"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"0 个结果"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}],!1,null,null,null);s.default=e.exports}}]);